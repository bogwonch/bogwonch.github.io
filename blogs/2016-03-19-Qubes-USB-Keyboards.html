<!DOCTYPE html><html><head><meta charset="utf-8"><title>Qubes and Keyboards</title><meta content="width=device-width,initial-scale=1" name="viewport"><style type=text/css>*{font-family:inherit;font-size:inherit;color:inherit;background-color:inherit;text-color:inherit;line-height:inherit}body{margin-left:0;margin-right:0;margin-top:0;padding:0;font-family:"Source Sans Pro",sans-serif;font-size:20px;line-height:1.5}body header{margin-top:0;padding:0;background-color:#bf360c;width:100%;color:#fff;height:60px;line-height:3}body header ul li{display:inline-block}body code{text-align:left;font-family:"PragmataPro",monospace}body code .kw{font-style:italic}body code .fu{font-weight:bold}body section{margin-left:5%;margin-right:5%}body section article{width:90%;margin:0 auto}body section article a{color:#bf360c}body section article a:visited{color:#000}body section article div.sourceCode{width:90%;display:block;margin-left:auto;margin-right:auto;overflow-x:scroll;white-space:nowrap}body section article div.sourceCode pre{display:inline}body section article img{width:60%;display:block;margin-left:auto;margin-right:auto}
  /*# sourceMappingURL=stylesheet.css.map */</style><body><header name=top><ul><h1>‚ù° <a class=title href="/">bogwonch.net</a></h1></header><section><article><p>My favourite keyboard is a <em>particularly</em> gross unicorn vomit <a href=http://ortholinearkeyboards.com/planck>Planck Keyboard</a>. Unfortunately Qubes <em>sys-usb</em> VM picks it up as a mouse, not a keyboard and stops it from working (and rightly so).</p><p>To get Qubes to prompt if a keyboard should be allowed to attach, like with mice, in <em>dom-0</em> edit <code>/etc/qubes-rpc/policy/qubes.InputKeyboard</code>:</p><pre class=example><code>    sys-usb dom0 ask,user=root
    $anyvm $anyvm deny
</code></pre><p>There we go! Much better.</p><p>Obviously this is a <em>bit</em> of a security risk. Someone could modify my keyboard to type naughty commands into the secure bits of my computer. Whilst I did program my keyboard, I don't know if anyone has modified it since then. A risk I have to take I guess if I want to use my unicorn vomit though!</p><p>(Incidentally what is to stop someone modifying my laptop to do much the same attack other than ease of access?)</p></article></section>
