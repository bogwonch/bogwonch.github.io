<!DOCTYPE html>
<html>
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.4.0">
<meta charset="utf-8">
<title>Solving a Simple Problem with a SAT solver.</title>
<meta content="width=device-width, initial-scale=1" name=
"viewport">
<style type="text/css">

  *{font-family:inherit;font-size:inherit;color:inherit;background-color:inherit;text-color:inherit;line-height:inherit}body{margin-left:0;margin-right:0;margin-top:0;padding:0;font-family:"Source Sans Pro",sans-serif;font-size:20px;line-height:1.5;color:#444;background-color:#eee}body ul li{list-style-type:"- "}body header{margin-top:0;padding:0;background-color:#0087af;width:100%;color:#eee;height:60px;line-height:3}body header ul li{display:inline-block}body code{text-align:left;font-family:"PragmataPro",monospace}body code .kw{font-style:italic}body code .fu{font-weight:bold}body section{margin-left:5%;margin-right:5%}body section article{width:90%;margin:0 auto}body section article a{color:#0087af}body section article a:visited{color:#000}body section article div.sourceCode{width:90%;display:block;margin-left:auto;margin-right:auto;overflow-x:scroll;white-space:nowrap}body section article div.sourceCode pre{display:inline}body section article img{width:60%;display:block;margin-left:auto;margin-right:auto}

  /*# sourceMappingURL=stylesheet.css.map */

</style>
</head>
<body>
<header name="top">
<ul>
<h1>❯ <a class="title" href="/">bogwonch.net</a></h1>
</ul>
</header>
<section>
<article>
<ul id="keywords"></ul>
<p>I&nbsp;read a simple maths problem in <a href=
"https://www.theguardian.com/science/2016/dec/05/did-you-solve-it-are-you-smarter-than-a-singaporean-ten-year-old">
Alex Bellos’s&nbsp;column in the Guardian</a>. The problem
goes:</p>
<blockquote>
<p>There are four numbers. If we leave out any one number, the
average of the remaining three numbers will be 45, 60, 65 or 70.
What is the average of all four numbers?</p>
</blockquote>
<p>The solution goes:</p>
<ul>
<li>Write means of three as equation:
<ul>
<li>A&nbsp;+ B + C = 45*3</li>
<li>A&nbsp;+ B + D = 60*3</li>
<li>A&nbsp;+ C + D = 65*3</li>
<li>B + C + D = 70*3</li>
</ul>
</li>
<li>Sum means:
<ul>
<li>3(A + B + C + D) = 3(45 + 60 + 65 + 70)</li>
<li>A&nbsp;+ B + C + D = 240</li>
</ul>
</li>
<li>We want:
<ul>
<li>A&nbsp;+ B + C + D = 4 Answer</li>
<li>Answer = 240 / 4</li>
<li>Answer = 60</li>
</ul>
</li>
</ul>
<p>Alternatively we can give the problem to the <a href=
"https://github.com/Z3Prover/z3">Z3</a> theorem prover…</p>
<div class="sourceCode" rundoc-language="python" rundoc-results=
"output" rundoc-session="yes">
<pre class="sourceCode python rundoc-block"><code class=
"sourceCode python"><span class="im">from</span> z3 <span class=
"im">import</span> <span class="op">*</span>



a <span class="op">=</span> Int(<span class="st">'a'</span>)

b <span class="op">=</span> Int(<span class="st">'b'</span>)

c <span class="op">=</span> Int(<span class="st">'c'</span>)

d <span class="op">=</span> Int(<span class="st">'d'</span>)



x <span class="op">=</span> Int(<span class="st">'x'</span>)



s <span class="op">=</span> Solver()



s.add(  (a <span class="op">+</span> b <span class=
"op">+</span> c)<span class="op">/</span><span class=
"dv">3</span> <span class="op">==</span> <span class=
"dv">45</span>,

        (a <span class="op">+</span> b <span class=
"op">+</span> d)<span class="op">/</span><span class=
"dv">3</span> <span class="op">==</span> <span class=
"dv">60</span>,

        (a <span class="op">+</span> c <span class=
"op">+</span> d)<span class="op">/</span><span class=
"dv">3</span> <span class="op">==</span> <span class=
"dv">65</span>,

        (b <span class="op">+</span> c <span class=
"op">+</span> d)<span class="op">/</span><span class=
"dv">3</span> <span class="op">==</span> <span class=
"dv">70</span>,

        (a <span class="op">+</span> b <span class=
"op">+</span> c <span class="op">+</span> d)<span class=
"op">/</span><span class="dv">4</span> <span class=
"op">==</span> x)



<span class="bu">print</span>(s.check())

<span class="bu">print</span>(s.model())</code></pre></div>
<pre class="example">
<code>&gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; &gt;&gt;&gt; ... ... ... ... &gt;&gt;&gt; &gt;&gt;&gt; sat

[b = 45, a = 30, c = 60, d = 105, x = 60]

</code></pre>
<p>Complete overkill… but a neat trick!</p>
</article>
</section>
</body>
</html>
